package com.test.automation.uiAutomation.uiActions;

import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import com.test.automation.uiAutomation.homepage.explicitWait;

public class Homepage {
	
	WebDriver driver;
	explicitWait wait;
	
	//Login Button
	@FindBy(xpath="//div[@class='anonymous-login anonymous-text']/a")
	public WebElement logIn;
	
	//Login Pop-Up
	@FindBy(xpath="//div[@id='mini-panel-register_popup']")
	public WebElement popUpFrame;
	
	//Email ID in Login
	@FindBy(id="edit-name--2")
	public WebElement EmailId;
	
	//Password in Login
	@FindBy(id="edit-pass--2")
	public WebElement password;
	
	//Login Button
	@FindBy(id="edit-submit--3")
	public WebElement loginButton;
	
	//Error Message
	@FindBy(xpath="//div[@class='messages messages--error']/h2")
	public WebElement errorMessage;
	
	//Login in Application
	public void loginApplication(String emailAddress, String Password){
		logIn.click();
		JavascriptExecutor jse = (JavascriptExecutor)driver;
		jse.executeScript("arguments[0].value='authenticated-user-test@mailinator.com';", EmailId);
		jse.executeScript("arguments[0].value='asd';", password);
		loginButton.click();
		wait.waitForElementToBeInvisible(By.xpath("//div[@class='overlay-close']"), 30);
		wait.waitForLoad(driver);
	}

}
